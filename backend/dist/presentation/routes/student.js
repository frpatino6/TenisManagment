"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const StudentController_1 = require("../../application/controllers/StudentController");
const JwtService_1 = require("../../infrastructure/services/JwtService");
const auth_1 = require("../../application/middleware/auth");
const validation_1 = require("../../application/middleware/validation");
const auth_2 = require("../../application/dtos/auth");
const router = (0, express_1.Router)();
const jwt = new JwtService_1.JwtService(process.env.JWT_SECRET || 'dev_secret');
const controller = new StudentController_1.StudentController();
router.use((0, auth_1.authMiddleware)(jwt), (0, auth_1.requireRole)('student'));
router.get('/available-schedules', controller.availableSchedules);
router.post('/book-lesson', (0, validation_1.validateBody)(auth_2.BookLessonSchema), controller.book);
router.get('/bookings', controller.listBookings);
router.get('/balance', controller.getBalance);
router.get('/payment-history', controller.paymentHistoryList);
router.post('/request-service', (0, validation_1.validateBody)(auth_2.RequestServiceSchema), controller.requestService);
exports.default = router;
//# sourceMappingURL=student.js.map